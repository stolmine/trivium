# Keyboard Shortcuts Reference

> **Platform Note**: On macOS, use ⌘ (Command) instead of Ctrl for all shortcuts listed with Ctrl.

Last Updated: 2025-10-19 (Phase 19: Mark/Unmark Shortcut Change)

---

## Table of Contents

- [Global Navigation](#global-navigation)
- [Global View Controls](#global-view-controls)
- [Reading View](#reading-view)
- [Review Session](#review-session)
- [Create Cards (Flashcard Hub)](#create-cards-flashcard-hub)
- [Ingest/Import](#ingestimport)
- [Library Navigation](#library-navigation)
- [Modal Dialogs](#modal-dialogs)

---

## Global Navigation

These shortcuts work from anywhere in the application.

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Go to Dashboard | `Ctrl + 1` | `⌘ + 1` | Navigate to main dashboard |
| Go to Library | `Ctrl + 2` | `⌘ + 2` | Navigate to library view |
| Go to Create Cards | `Ctrl + 3` | `⌘ + 3` | Navigate to flashcard creation hub |
| Go to Review | `Ctrl + 4` | `⌘ + 4` | Navigate to review setup |
| Go to Ingest | `Ctrl + 5` | `⌘ + 5` | Open text import/ingest page |
| Go to Settings | `Ctrl + 6` | `⌘ + 6` | Navigate to settings page |
| Go to Settings (Alt) | `Ctrl + ,` | `⌘ + ,` | macOS standard settings shortcut |
| New Ingest (Alt) | `Ctrl + N` | `⌘ + N` | Alternative hotkey for ingest page |

---

## Global View Controls

These shortcuts control the UI appearance and help system.

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Toggle Sidebar | `Ctrl + B` | `⌘ + B` | Show/hide the left sidebar |
| Show Keyboard Shortcuts | `Ctrl + /` | `⌘ + /` | Display this help dialog |

---

## Reading View

### Text Editing

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Global Edit Mode | `Ctrl + E` | `⌘ + E` | Activate inline editing for entire text |
| Inline Edit Selection | `Ctrl + E` | `⌘ + E` | Edit selected text region (when text selected) |
| Save Edit | `Ctrl + S` | `⌘ + S` | Save changes (during inline edit) |
| Cancel Edit | `Esc` | `Esc` | Cancel editing and revert changes |

### Text Selection Actions

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Mark/Unmark as Read | `Ctrl + D` | `⌘ + D` | Toggle read status for selected text |

### History & Navigation

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Undo | `Ctrl + Z` | `⌘ + Z` | Undo last action (edit or mark) |
| Redo | `Ctrl + Shift + Z` or `Ctrl + Y` | `⌘ + Shift + Z` or `⌘ + Y` | Redo previously undone action |
| Toggle Links | `Ctrl + L` | `⌘ + L` | Enable/disable clickable Wikipedia links |

### Text Search

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Open Search | `Ctrl + F` | `⌘ + F` | Open in-page text search |
| Next Match | `Enter` | `Enter` | Jump to next search result |
| Previous Match | `Shift + Enter` | `Shift + Enter` | Jump to previous search result |
| Close Search | `Esc` | `Esc` | Close search bar |

### Text Dialogs

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Confirm Rename | `Enter` | `Enter` | Confirm text rename dialog |
| Confirm Delete | `Enter` | `Enter` | Confirm text deletion |
| Confirm Mark as Finished | `Enter` | `Enter` | Mark entire text as read |
| Confirm Clear Progress | `Enter` | `Enter` | Clear all read marks |
| Cancel Dialog | `Esc` | `Esc` | Cancel any dialog |

---

## Review Session

### Answer Reveal

| Action | Shortcut | Description |
|--------|----------|-------------|
| Toggle Answer | `Space` | Show/hide answer on flashcard |

### Card Grading

| Action | Shortcut | Description |
|--------|----------|-------------|
| Grade: Again | `1` | Failed to recall, see again soon |
| Grade: Hard | `2` | Difficult to recall |
| Grade: Good | `3` | Recalled correctly |
| Grade: Easy | `4` | Recalled easily |

---

## Create Cards (Flashcard Hub)

### Scope Selection

**Note**: Changed to Alt to avoid conflict with global navigation.

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Library Scope | `Alt + 1` | `⌥ + 1` | Show marks from entire library |
| Folder Scope | `Alt + 2` | `⌥ + 2` | Show marks from selected folder |
| Text Scope | `Alt + 3` | `⌥ + 3` | Show marks from selected text |

### Mark Navigation

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Previous Mark | `←` or `Ctrl + K` | `←` or `⌘ + K` | Navigate to previous mark |
| Next Mark | `→` or `Ctrl + J` | `→` or `⌘ + J` | Navigate to next mark |
| Bury Mark | `Shift + B` | `Shift + B` | Permanently skip this mark (0-card) |

### Card Creation

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Wrap in Cloze | `Ctrl + Shift + C` | `⌘ + Shift + C` | Wrap selected text in cloze deletion |
| Create Card | `Shift + Enter` | `Shift + Enter` | Create flashcard from cloze text |
| Undo | `Ctrl + Z` | `⌘ + Z` | Undo last text edit |
| Redo | `Ctrl + Shift + Z` or `Ctrl + Y` | `⌘ + Shift + Z` or `⌘ + Y` | Redo last undone edit |

### Help

| Action | Shortcut | Description |
|--------|----------|-------------|
| Show Help | `?` | Display keyboard shortcuts help |
| Close Help | `Esc` or `Enter` | Close help modal |

---

## Ingest/Import

### Form Submission

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Submit/Import | `Shift + Enter` | `Shift + Enter` | Import text to library |
| Cancel/Close | `Esc` | `Esc` | Cancel import and go back |

### Text Editing

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Exclude Selection | `Ctrl + Shift + E` | `⌘ + Shift + E` | Wrap selection in exclude tags |
| Undo | `Ctrl + Z` | `⌘ + Z` | Undo text changes |
| Redo | `Ctrl + Shift + Z` or `Ctrl + Y` | `⌘ + Shift + Z` or `⌘ + Y` | Redo text changes |

---

## Library Navigation

### Keyboard Navigation (Finder-style)

| Action | Shortcut | Description |
|--------|----------|-------------|
| Select Next Item | `↓` | Move selection down |
| Select Previous Item | `↑` | Move selection up |
| Expand Folder | `→` | Expand selected folder |
| Collapse Folder | `←` | Collapse selected folder |
| Open Selected | `Enter` | Open selected text for reading |

### Folder Management

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Create Folder | `Ctrl + Shift + N` | `⌘ + Shift + N` | Create new folder in library |
| Expand/Collapse All | `Ctrl + Shift + E` | `⌘ + Shift + E` | Toggle all folders expanded/collapsed |

### Library Search

| Action | Windows/Linux | macOS | Description |
|--------|---------------|-------|-------------|
| Open Library Search | `Shift + Ctrl + F` | `Shift + ⌘ + F` | Search library (texts & folders) |
| Next Match | `↓` | Down arrow in search results |
| Previous Match | `↑` | Up arrow in search results |
| Open Selected Match | `Enter` | Open selected search result |
| Close Search | `Esc` | Close search bar |

---

## Modal Dialogs

### General Dialog Controls

| Action | Shortcut | Description |
|--------|----------|-------------|
| Confirm/Submit | `Enter` | Confirm action in most dialogs |
| Cancel/Close | `Esc` | Close dialog without saving |

### Dialogs with Enter Support

All the following dialogs support Enter to confirm:
- Rename text dialog
- Delete text confirmation
- Mark as finished confirmation
- Clear progress confirmation
- Keyboard shortcuts help modal
- Create flashcard help modal
- Folder creation dialog

---

## Tips & Best Practices

### Conflict Resolution
- **Ctrl+1-5**: Reserved for global navigation (Dashboard/Library/Create/Review/Ingest)
- **Alt+1-3**: Used for scope selection in Create Cards page only
- This separation ensures no conflicts between global and page-specific shortcuts

### Platform Consistency
- All shortcuts using Ctrl on Windows/Linux use ⌘ (Command) on macOS
- Alt key on Windows/Linux corresponds to ⌥ (Option) on macOS
- Modifier-free keys (Space, Enter, Esc, arrows, 1-4) work identically across platforms

### Discovery
- Press `Ctrl + /` (or `⌘ + /` on Mac) anywhere to see available shortcuts
- Press `?` in Create Cards view for page-specific help
- Tooltips on buttons and sidebar items show keyboard shortcuts where applicable

### Accessibility
- All keyboard shortcuts are optional - full functionality available via mouse/touch
- Arrow key navigation available in library tree (Finder-style)
- Enter/Esc consistently confirm/cancel across all dialogs
- Screen reader compatible (ARIA labels present)

---

## Customization

Currently, keyboard shortcuts are **not configurable**. This may be added in a future update.

If you need different shortcuts, please file an issue on GitHub with your use case.

---

## Troubleshooting

### Shortcut Not Working?

1. **Check focus**: Some shortcuts only work when specific elements are focused
   - Text selection shortcuts require text to be selected
   - Edit mode shortcuts require edit mode to be active
   - Library navigation requires library tree to be focused

2. **Check for conflicts**: Browser extensions may override shortcuts
   - Try disabling extensions temporarily
   - Use browser dev tools to check for event listeners

3. **Platform differences**: Ensure you're using correct modifier key
   - Windows/Linux: Ctrl
   - macOS: ⌘ (Command)

4. **Modal dialogs**: Some shortcuts are disabled when dialogs are open
   - Close dialogs with Esc first
   - Global navigation (Ctrl+1-5) still works in most cases

---

## Version History

### 2025-10-19 (Phase 19 - Mark/Unmark Shortcut Change)
- Changed Mark/Unmark text shortcut from Ctrl+M / Cmd+M to Ctrl+D / Cmd+D
- This change avoids conflict with macOS window minimize (Cmd+M)
- Updated Reading View documentation accordingly

### 2025-10-19 (Phase 19 - Settings Menu Enhancement)
- Added macOS standard settings shortcut (Ctrl+, / Cmd+,)
- Settings now accessible via both Ctrl+6 and Ctrl+, (Cmd+6 and Cmd+, on macOS)
- Follows macOS convention for settings access

### 2025-10-18 (Phase 19 - Settings Menu)
- Added Settings page to global navigation (Ctrl+6 / Cmd+6)
- New settings page with Defaults and Database sections
- Toggle default links visibility (Ctrl+L persisted in settings)
- Database size display and export functionality

### 2025-10-18 (Phase 17.5 - Navigation Integration)
- Integrated Ingest page into main navigation system
- Realigned global navigation hotkeys to match visual order:
  - Ctrl+1: Dashboard
  - Ctrl+2: Library (moved from Ctrl+4)
  - Ctrl+3: Create Cards (unchanged)
  - Ctrl+4: Review (moved from Ctrl+2)
  - Ctrl+5: Ingest (new - was only Ctrl+N)
- Added Ingest to sidebar with FileInput icon
- Back to Reading button now appears on Ingest page
- Standardized Ingest page layout to match other main pages
- Removed redundant back/close buttons from Ingest page
- Updated all documentation with new hotkey mappings

### 2025-10-18 (Phase 17 - Hotkey Improvements)
- Fixed Ctrl+1-4 conflict: Changed Create Cards scope shortcuts to Alt+1/2/3
- Added Enter key support to ShortcutHelp and Create page help modals
- Verified all shortcuts use platform-aware Cmd/Ctrl detection
- Created comprehensive documentation

---

**Need help?** Press `Ctrl + /` (or `⌘ + /`) to see shortcuts in-app!
